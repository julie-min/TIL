<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
    	  
    	  $.ajax({

            url: "chart1",
            dataType: "json",
            success: function(json_array) {

                var data = google.visualization.arrayToDataTable([
                  ['Task', 'Hours per Day'],
                  [array[0].doing, array[0].time],
                  [array[1].doing, array[1].time],
                  [array[2].doing, array[2].time],
                ]);
        
                var options = {
                  title: '원형 차트',
                  pieHole: 0.4,
                };
        
                var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
                chart.draw(data, options);
            } // success
              
          }) // ajax

      } //fun
    </script>
  </head>
  <body>
    <div id="donutchart" style="width: 900px; height: 500px;"></div>
  </body>
</html>