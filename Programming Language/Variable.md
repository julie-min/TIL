# Variable
- 변수란?
- 프로그램에서 처리할 데이터를 저장,관리할 수 있도록 메모리를 추상화한 것


메모리의 각각의 셀들은 주소이다. <br>
변수를 선언하면 주소에 메모리를 할당하고 값을 저장한다.

## 변수의 속성
1. 변수명 : 변수의 이름, 식별자 identifier
2. 타입 : 변수에 저장할 수 있는 데이터 집합의 종류, 자료형
3. 주소: 변수가 사용하는 메모리의 위치
4. 값: 변수에 저장된 데이터, 수행시간동안 변경될 수 있음
5. 수명 lifetime
6. 영역 scope

## 바인딩 binding
언어 구성요소의 속성이 구체적으로 결정되는 것 <br>
바인딩이 일어나는 시점
- 언어 정의 시점
- 언어 구현 시점
- 컴파일 시점
- 링크 시점
- 로드 시점
- 프로그램 수행 시점

### 바인딩 하는 방법
- 명시적 선언: 선언문에 명시된 이름으로 변수명 바인딩
- 묵시적 선언: 선언문은 없다. 처음 사용된 이름으로 바인딩

---

### <정적 바인딩> static binding
- 프로그램 수행 시점에 바인딩의 변화가 없는 경우
- 프로그램 수행 이전에 바인딩이 결정됨
- 프로그램 수행시간의 효율성이 높다.
- 정적변수: 프로그램 수행전체가 수명

### <동적 바인딩> dynamic binding
- 프로그램 수행 시점에 바인딩의 변화가 있는 경우 (바인딩 되거나, 바인딩이 해지되는 경우)
- 인터프리터 방법에 적합
- 힙 동적 변수 : 수동할당 (malloc, free)
- 스택 동적 변수: 자동할당

---

# 변수의 영역 scope
- 프로그램에서 변수를 사용할 수 있는 범위
- 변수에 값을 대입하거나 값을 읽어올 수 있는 범위
- 영역의 시작: **변수가 선언된 곳**
- 수명의 시작
   - 동적 바인딩: 변수 선언 위치
   - 정적 바인딩: 프로그램이 수행되는 시점

비록 수명은 있지만 영역 밖에서 선언하면 오류

# 블록 Block
- 프로그램 문장들의 묶음
- 영역을 구분해주는 단위
- 블록 안에서 변수 선언이 가능
- 변수영역의 끝 = 블록이 끝나는 지점
- 블록의 표현이나 적용 기준은 언어별로 다름

## 지역변수 local variable
- 블록 안에서 선언된 변수

## 비지역변수 non-local variable
- 블록 밖에서 선언되었지만,
- 블록 안에서 사용될 수 있는 변수

---

## 영역 규칙 Scope rule
- 변수의 참조 위치를 결정하는 방법

### 1. 정적 영역 규칙
   - 블록들의 정적 내포 관계를 이용
   - 정적 내포관계란, 블록의 문맥적인 포함관계
   - 문맥적으로 봤을때 블록끼리도 관계가 있음
   - 사전적 영역 규칙: lexical scope rule
   - 정적 조상: static ancestors
       - 현 블록을 문맥적으로 포함하는 모든 블록
   - 정적 부모: static parent
       - 현 블록에 가장 가까운 정적 조상

**[정적 영역 규칙의 적용 방법]**
1. 사용하려는 변수의 이름에 대한 선언이 현재 블록 안에 존재 => 지역 변수
2. 자유변수라면, 현재 블록의 정적 부모에 대해..
   1) 자유변수 이름에 대한 선언이 존재: 비지역 변수
   2) 선언이 없으면 그 블록의 정적 부모를 따라서 계속 확인을 반복한다.
   3) 가장 바깥영역까지 선언을 찾지 못한경우: 오류

**영역 구멍 Scope hole** : 비지역변수가 같은 이름의 지역변수 때문에 보이지 않는 경우

### 2. 동적 영역 규칙
- 블록들의 동적 내포 관계를 이용
- 서브프로그램의 호출 관계 
- 프로그램 수행시점에서만 판단 가능

**[동적 영역 규칙의 적용 방법]**
1. 사용하려는 변수의 이름에 대한 선언이 현재 블록 안에 존재: 지역변수
2. 자유변수라면, 현재 블록을 호출한 블록에 대해..
   1) 자유변수 이름에 대한 선언이 존재 => 비지역변수
   2) 선언이 없으면 그 블록을 호출한 블록에 대해 반복
   3) 최종 호출한 영역까지 갔는데도 선언을 찾지못하면 오류



### 자유변수 free variable
- 현재 블록에서 선언되지 않고 사용하려는 변수
- 영역규칙에 따라 참조 위치를 결정한다.
- 참조 위치를 찾은경우, 선언된 경우 => 비지역변수
- 참조 위치를 찾지 못한 경우, 오류


### 이름 공간 : name space
- 관련성이 높은 변수와 함수를 하나의 묶음으로 관리하는 영역
- 그 영역 자체의 이름을 가짐
```c
namespace S1 {
    int k=0;
    void Output() {
    }
}
``` 
- 이름 공간 내의 변수/함수를 이름 공간 밖에서 사용하는 방법
  1) 이름공간의 이름과 영역 연산자::를 이용
  2) 예약어 using 사용 => `using namespace S1;`
- 이름 공간의 변수와 지역변수가 중첩된 경우: 영역구멍 => 지역변수가 이름공간보다 우선된다.영역연산자 :: 사용하여 구분한다.

###  전역 변수 : global variable
- 어떤 블록에도 포함되지 않은 곳에서 선언된 변수
- 영역은 프로그램 전체이다.
- 모든 블록에서 비지역 변수로 취급한다.

### 영역구멍에서의 전역변수
- 그런데, 전역변수를 사용하다보면 영역구멍이 생김
- 어떤 블록 안에서 전역변수와 동일한 이름의 지역변수를 사용하게 되면....
- 그 지역변수가 우선권을 얻기 때문에
- 전역변수는 그 블록 안에서 보이지 않게 된다.
- 이를 해결하는 방법 : 영역 연산자 scope operator를 사용한다.




