<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
    
    <!-- ajax를 통해 내부의 파일을 불러와서 실행하는 비동기 통신의 예시입니다. -->
    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"> 
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>


<script>
$(function() {
	
	$('#b1').click(function() {
		alert("b1")
		$.ajax({
			url: "test.jsp",
			data: {
				test: $('#test').val()
			},
			success: function(x) {
				$('#d1').html("받은 데이터는" + x)
			} ,
			error: function(e) {
				alert(e)
			}
		}) // ajax
	}) //b1
	
	$('#b2').click(function() {
		alert("b2")
		$.ajax({
			url: "money.jsp",
			data: {
				money: $('#money').val(),
				what: $('#what').val()
			},
			success: function(x) {
				$('#d1').html("결제할 금액은" + x)
			} ,
			error: function(e) {
				alert(e)
			}
		}) // ajax
	}) //b2
	
	$('#b3').click(function() {
		alert("b3")
		$.ajax({
			url: "idCheck.jsp",
			data: {
				user: $('#user').val()
			},
			success: function(x) {
				$('#d1').html("받은 데이터는" + x)
			} ,
			error: function(e) {
				alert(e)
			}
		}) // ajax
	}) //b3
	

	$('#b4').click(function() {
		alert("b4")
		$.ajax({
			url: "phone.jsp",
			data: {
				tel: $('#tel').val()
			},
			success: function(x) {
				$('#d1').html("받은 인증번호는" + x)
			} ,
			error: function(e) {
				alert(e)
			}
		}) // ajax
	}) //b4	
	
	
	$('#b5').click(function() {
		alert("b5")
		$.ajax({
			url: "won.jsp",
			data: {
				won: $('#won').val()
			},
			success: function(x) {
				$('#d1').html("달러로 환산한 금액은" + x +"달러")
			} ,
			error: function(e) {
				alert(e)
			}
		}) // ajax
	}) //b5	
	
	
	$('#b6').click(function() {
		alert("b6")
		$.ajax({
			url: "dol.jsp",
			data: {
				dol: $('#dol').val()
			},
			success: function(x) {
				$('#d1').html("원화로 환산한 금액은" + x+"원")
			} ,
			error: function(e) {
				alert(e)
			}
		}) // ajax
	}) //b6	
	
	
}) // $
</script>

<style>
input{
	background: skyblue;
	}
</style>
</head>





<body>

<h3> 비동기통신으로 서버와 통신하기</h3>

	ajax테스트
	<input id="test">
	<button id="b1" class="mt-2 p-2 bg-primary text-white rounded">AjaxTest(b1)</button>
	<hr>
	
	결제금액: 
	<input id="money"><br><br>
	1)계좌이체 2)신용카드 3)휴대폰결제
	<br>
	결제수단 (번호입력)
	<input id="what">
	<button id="b2" class="mt-2 p-2 bg-primary text-white rounded">결제하기(b2)</button>
	<hr>
	
	회원가입할 ID
	<input id="user">
	<button id="b3" class="mt-2 p-2 bg-primary text-white rounded">회원가입시 id중복체크(b3)</button>
	<hr>
	
	인증받을 전화번호 입력
	<input id="tel">
	<button id="b4" class="mt-2 p-2 bg-primary text-white rounded">인증번호받기(b4)</button>
	<hr>
	
	원화를 달러로 
	<input id="won">
	<button id="b5" class="mt-2 p-2 bg-primary text-white rounded">원화를 달러로(b5)</button><br>
	달러를 원화로
	<input id="dol">
	<button id="b6" class="mt-2 p-2 bg-primary text-white rounded">달러를 원화로(b6)</button>
	<hr>
	<div id="d1" style="width: 400px; height: 100px; background: lightgray;">결과창</div>


</body>
</html>